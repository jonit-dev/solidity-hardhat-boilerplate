echo "ğŸ” Running pre-push checks..."

# Run format check without modifying files
echo "ğŸ“ Checking code formatting..."
yarn format:check || {
    echo "âŒ Format check failed. Run 'yarn format' to fix formatting issues"
    exit 1
}

# Run linting
echo "ğŸ” Running linters..."
yarn lint || {zz
    echo "âŒ Linting failed. Fix the issues and try again"
    exit 1
}

# Compile contracts and check types
echo "ğŸ› ï¸ Compiling contracts and checking types..."
yarn compile || {
    echo "âŒ Compilation failed. Fix the errors and try again"
    exit 1
}

# Run tests with coverage
echo "ğŸ§ª Running tests..."
yarn test || {
    echo "âŒ Tests failed. Fix the failing tests and try again"
    exit 1
}

echo "âœ… All checks passed! Pushing changes..."
