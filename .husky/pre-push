#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running pre-push checks..."

# Run all checks in sequence
echo "ğŸ” Running linting and tests..."
yarn lint || {
    echo "âŒ Linting failed. See errors above."
    exit 1
}

# Compile contracts and check types
echo "ğŸ› ï¸ Compiling contracts..."
yarn compile || {
    echo "âŒ Compilation failed. See errors above."
    exit 1
}

# Run tests
echo "ğŸ§ª Running tests..."
yarn test || {
    echo "âŒ Tests failed. See errors above."
    exit 1
}

echo "âœ… All checks passed! Pushing changes..."
